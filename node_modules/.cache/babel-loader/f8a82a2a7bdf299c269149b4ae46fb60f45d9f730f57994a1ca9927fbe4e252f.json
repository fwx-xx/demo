{"ast":null,"code":"import { reqMyOrderInfo } from '@/api';\nexport default {\n  name: 'MyOrder',\n  data() {\n    return {\n      orderInfo: {},\n      //用于存储所有订单信息的\n      pageNo: 1,\n      pageSize: 5\n    };\n  },\n  methods: {\n    // 获取我的订单数据\n    async getMyOrderInfo() {\n      // 发请求获取我的订单信息\n      const {\n        code,\n        message,\n        data\n      } = await reqMyOrderInfo(this.pageNo, this.pageSize);\n      // 判断业务逻辑\n      if (code === 200) {\n        this.orderInfo = data;\n      } else {\n        this.$message.warning(`获取订单列表失败：${message}`);\n      }\n    },\n    updateOrderInfo(n) {\n      // 将分页器传递过来的，用户所点击的页码，存起来\n      this.pageNo = n;\n      // 发请求重新得到最新的数据\n      this.getMyOrderInfo();\n      // 滚动条置到最顶端\n      document.documentElement.scrollTop = 0;\n    }\n  },\n  mounted() {\n    // 调用getMyOrderInfo获取我的订单数据\n    this.getMyOrderInfo();\n  }\n};","map":{"version":3,"names":["reqMyOrderInfo","name","data","orderInfo","pageNo","pageSize","methods","getMyOrderInfo","code","message","$message","warning","updateOrderInfo","n","document","documentElement","scrollTop","mounted"],"sources":["src/pages/MyOrder/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"order-main\">\r\n    <TypeNav/>\r\n    <div class=\"container\">\r\n      <div class=\"order-body\">\r\n        <!--左侧列表（不用关心）-->\r\n        <div class=\"order-left\">\r\n          <dl>\r\n            <dt><i>·</i> 订单中心</dt>\r\n            <dd>\r\n              我的订单\r\n            </dd>\r\n            <dd>\r\n              团购订单\r\n            </dd>\r\n            <dd>本地生活订单 </dd>\r\n            <dd>我的预售</dd>\r\n            <dd>评价晒单</dd>\r\n            <dd>取消订单记录</dd>\r\n          </dl>\r\n          <dl>\r\n            <dt><i>·</i> 关注中心</dt>\r\n            <dd>关注的商品 </dd>\r\n            <dd>关注的店铺</dd>\r\n            <dd>关注的专辑 </dd>\r\n            <dd>关注的品牌</dd>\r\n            <dd>关注的活动 </dd>\r\n            <dd>浏览历史</dd>\r\n          </dl>\r\n          <dl>\r\n            <dt><i>·</i> 特色业务</dt>\r\n            <dd>我的营业厅 </dd>\r\n            <dd>京东通信 </dd>\r\n            <dd>定期送 </dd>\r\n            <dd>京东代下单</dd>\r\n          </dl>\r\n        </div>\r\n        <!-- 右侧内容 -->\r\n        <div class=\"order-right\">\r\n          <div class=\"order-content\">\r\n            <div class=\"chosetype\">\r\n              <!-- 整个订单列表的头部 -->\r\n              <table>\r\n                <thead>\r\n                  <tr>\r\n                    <th width=\"29%\">商品</th>\r\n                    <th width=\"31%\">订单详情</th>\r\n                    <th width=\"13%\">收货人</th>\r\n                    <th>金额</th>\r\n                    <th>状态</th>\r\n                    <th>操作</th>\r\n                  </tr>\r\n                </thead>\r\n              </table>\r\n            </div>\r\n            <!-- 订单列表 -->\r\n            <div class=\"orders\">\r\n              <!-- 一个table就是一个订单 -->\r\n              <table class=\"order-item\" v-for=\"r1 in orderInfo.records\" :key=\"r1.id\">\r\n                <!-- 头部 -->\r\n                <thead>\r\n                  <tr>\r\n                    <th colspan=\"5\">\r\n                      <span class=\"ordertitle\">{{r1.createTime}}　订单编号：{{r1.outTradeNo}} <span\r\n                          class=\"pull-right delete\"><img src=\"./images/delete.png\"></span></span>\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <!-- 具体内容 -->\r\n                <tbody>\r\n                  <!-- 一个tr就是订单中的一个商品 -->\r\n                  <tr v-for=\"(r2,index) in r1.orderDetailList\" :key=\"r2.id\">\r\n                    <td width=\"60%\">\r\n                      <div class=\"typographic\">\r\n                        <img :src=\"r2.imgUrl\">\r\n                        <a href=\"#\" class=\"block-text\">{{r2.skuName}}</a>\r\n                        <span>x{{r2.skuNum}}</span>\r\n                        <a href=\"#\" class=\"service\">售后申请</a>\r\n                      </div>\r\n                    </td>\r\n                    <td v-if=\"!index\" :rowspan=\"r1.orderDetailList.length\" width=\"8%\" class=\"center\">{{r1.consignee}}</td>\r\n                    <td v-if=\"!index\" :rowspan=\"r1.orderDetailList.length\" width=\"13%\" class=\"center\">\r\n                      <ul class=\"unstyled\">\r\n                        <li>总金额¥{{r1.totalAmount}}</li>\r\n                        <li>在线支付</li>\r\n                      </ul>\r\n                    </td>\r\n                    <td v-if=\"!index\" :rowspan=\"r1.orderDetailList.length\" width=\"8%\" class=\"center\">\r\n                      <a href=\"#\" class=\"btn\">{{r1.orderStatusName}} </a>\r\n                    </td>\r\n                    <td v-if=\"!index\" :rowspan=\"r1.orderDetailList.length\" width=\"13%\" class=\"center\">\r\n                      <ul class=\"unstyled\">\r\n                        <li>\r\n                          <a href=\"mycomment.html\" >评价|晒单</a>\r\n                        </li>\r\n                      </ul>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <!-- 分页器 -->\r\n            <Pagination\r\n              :total=\"orderInfo.total\"\r\n              :pageNo=\"pageNo\"\r\n              :pageSize=\"pageSize\"\r\n              :continues=\"7\"\r\n              :sendPageNo=\"updateOrderInfo\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {reqMyOrderInfo} from '@/api'\r\n  export default {\r\n    name: 'MyOrder',\r\n    data() {\r\n      return {\r\n        orderInfo:{}, //用于存储所有订单信息的\r\n        pageNo:1,\r\n        pageSize:5\r\n      }\r\n    },\r\n    methods: {\r\n      // 获取我的订单数据\r\n      async getMyOrderInfo(){\r\n        // 发请求获取我的订单信息\r\n        const {code,message,data} = await reqMyOrderInfo(this.pageNo,this.pageSize)\r\n        // 判断业务逻辑\r\n        if(code === 200){\r\n          this.orderInfo = data\r\n        }else{\r\n          this.$message.warning(`获取订单列表失败：${message}`)\r\n        }\r\n      },\r\n      updateOrderInfo(n){\r\n        // 将分页器传递过来的，用户所点击的页码，存起来\r\n        this.pageNo = n\r\n        // 发请求重新得到最新的数据\r\n        this.getMyOrderInfo()\r\n        // 滚动条置到最顶端\r\n        document.documentElement.scrollTop = 0\r\n      }\r\n    },\r\n    mounted() {\r\n      // 调用getMyOrderInfo获取我的订单数据\r\n      this.getMyOrderInfo()\r\n    },\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .order-main {\r\n    .container {\r\n      margin: 0 auto;\r\n      width: 1200px;\r\n\r\n      .order-body {\r\n        padding: 10px;\r\n        color: #333;\r\n\r\n        &:after {\r\n          content: \"\";\r\n          display: block;\r\n          clear: both;\r\n        }\r\n\r\n        //左边\r\n        .order-left {\r\n          float: left;\r\n          width: 16.67%;\r\n\r\n          dl {\r\n            line-height: 28px;\r\n\r\n            dt {\r\n              font-weight: 700;\r\n              padding: 5px;\r\n\r\n              i {\r\n                color: #77b72c;\r\n              }\r\n            }\r\n\r\n            dd {\r\n              margin: 0 0 6px;\r\n              border-bottom: 1px solid #ededed;\r\n              text-align: center;\r\n            }\r\n          }\r\n        }\r\n\r\n        //右边\r\n        .order-right {\r\n          float: right;\r\n          width: 83.33%;\r\n\r\n          //订单部分\r\n          .order-content {\r\n            margin: 0 20px;\r\n            color: #666;\r\n\r\n            //标题\r\n            .title {\r\n              margin-bottom: 22px;\r\n              border: 1px solid #ddd;\r\n\r\n              h3 {\r\n                padding: 12px 10px;\r\n                font-size: 15px;\r\n                background-color: #f1f1f1;\r\n\r\n              }\r\n            }\r\n\r\n            //表头\r\n            .chosetype {\r\n              margin-bottom: 15px;\r\n              color: #666;\r\n\r\n              table {\r\n                border: 1px solid #e6e6e6;\r\n                border-collapse: separate;\r\n                border-radius: 2px;\r\n                width: 100%;\r\n                max-width: 100%;\r\n                border-spacing: 0;\r\n\r\n                th {\r\n                  padding: 6px 8px;\r\n                  color: #666;\r\n                  font-weight: 700;\r\n                  vertical-align: bottom;\r\n                  background-color: #f4f4f4;\r\n                  line-height: 18px;\r\n                  border-bottom: 1px solid #e6e6e6;\r\n                  font-size: 12px;\r\n                  text-align: left;\r\n                }\r\n              }\r\n            }\r\n\r\n            // 表单内容\r\n            .orders {\r\n              font-size: 12px;\r\n\r\n              a {\r\n                &:hover {\r\n                  color: #4cb9fc;\r\n                }\r\n              }\r\n\r\n              table {\r\n                border: 1px solid #e6e6e6;\r\n                border-collapse: collapse;\r\n                border-radius: 2px;\r\n                width: 100%;\r\n                margin-bottom: 18px;\r\n                max-width: 100%;\r\n\r\n                th {\r\n                  padding: 6px 8px;\r\n                  line-height: 18px;\r\n                  text-align: left;\r\n                  vertical-align: bottom;\r\n                  background-color: #f4f4f4;\r\n                  font-size: 12px;\r\n                  color: #666;\r\n\r\n                  .pull-right {\r\n                    float: right;\r\n                    cursor: pointer;\r\n\r\n                    img {\r\n                      margin-right: 10px;\r\n                      vertical-align: middle;\r\n                    }\r\n                  }\r\n                }\r\n\r\n                td {\r\n                  font-size: 12px;\r\n                  color: #666;\r\n                  padding: 6px 8px;\r\n                  line-height: 18px;\r\n                  text-align: left;\r\n                  vertical-align: middle;\r\n                  border: 1px solid #e6e6e6;\r\n\r\n                  &.center {\r\n                    text-align: center;\r\n                  }\r\n\r\n                  .typographic {\r\n                    img {\r\n                      float: left;\r\n                      margin-right: 10px;\r\n                      width: 100px;\r\n                    }\r\n\r\n                    a {\r\n                      float: left;\r\n                      min-width: 80px;\r\n                      max-width: 250px;\r\n\r\n                      &.service {\r\n                        color: #666;\r\n                      }\r\n                    }\r\n\r\n                    span {\r\n                      float: left;\r\n                      min-width: 80px;\r\n                      max-width: 250px;\r\n                      text-align: center;\r\n                    }\r\n\r\n                  }\r\n                }\r\n\r\n              }\r\n            }\r\n\r\n            // 分页\r\n            .choose-order {\r\n              .pagination {\r\n                margin: 38px 0;\r\n\r\n                ul {\r\n                  font-size: 0;\r\n                  display: inline-block;\r\n\r\n                  li {\r\n                    display: inline-block;\r\n                    padding: 4px 9px;\r\n                    font-size: 14px;\r\n                    border: 1px solid #e0e9ee;\r\n\r\n                    &.prev,\r\n                    &.next {\r\n                      background-color: #fafafa;\r\n                    }\r\n\r\n                    &.prev {\r\n                      border-right-color: #28a3ef;\r\n                    }\r\n\r\n                    &.page {\r\n                      border-color: #28a3ef;\r\n                      border-left: 0;\r\n\r\n                      &.actived {\r\n                        background-color: #28a3ef;\r\n\r\n                        a {\r\n                          color: #fff;\r\n                        }\r\n\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n\r\n                div {\r\n                  display: inline-block;\r\n                  font-size: 14px;\r\n                  color: #333;\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          // 猜你喜欢\r\n          .like {\r\n            border: 1px solid #ddd;\r\n            margin: 15px 20px;\r\n\r\n            .kt {\r\n              border-bottom: 1px solid #ddd;\r\n              background: #f1f1f1;\r\n              color: #666;\r\n              margin: 0;\r\n              padding: 12px;\r\n              font-size: 15px;\r\n            }\r\n\r\n            .like-list {\r\n              padding: 15px 11px;\r\n              overflow: hidden;\r\n\r\n              .likeItem {\r\n                width: 25%;\r\n                float: left;\r\n\r\n                .p-img {\r\n                  text-align: left;\r\n\r\n                  img {\r\n                    width: 167px;\r\n                    height: 123px;\r\n                  }\r\n                }\r\n\r\n                .attr {\r\n                  padding: 0 15px;\r\n                }\r\n\r\n                .price {\r\n                  padding: 0 15px;\r\n                  font-size: 16px;\r\n                  color: #c81623;\r\n                  margin-bottom: 20px;\r\n                }\r\n\r\n                .commit {\r\n                  padding: 0 15px;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"],"mappings":"AAsHA,SAAAA,cAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MAAA;MACAC,MAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACA;IACA,MAAAC,eAAA;MACA;MACA;QAAAC,IAAA;QAAAC,OAAA;QAAAP;MAAA,UAAAF,cAAA,MAAAI,MAAA,OAAAC,QAAA;MACA;MACA,IAAAG,IAAA;QACA,KAAAL,SAAA,GAAAD,IAAA;MACA;QACA,KAAAQ,QAAA,CAAAC,OAAA,aAAAF,OAAA;MACA;IACA;IACAG,gBAAAC,CAAA;MACA;MACA,KAAAT,MAAA,GAAAS,CAAA;MACA;MACA,KAAAN,cAAA;MACA;MACAO,QAAA,CAAAC,eAAA,CAAAC,SAAA;IACA;EACA;EACAC,QAAA;IACA;IACA,KAAAV,cAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}