{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reqGetCode, reqRegister } from '@/api';\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      phone: '',\n      password: '',\n      code: '',\n      rePassword: '',\n      agree: false\n    };\n  },\n  methods: {\n    // 获取验证码\n    async getCode() {\n      // 请求服务器获取验证码\n      const {\n        code,\n        message,\n        data\n      } = await reqGetCode(this.phone);\n      // 判断业务逻辑是否成功\n      if (code === 200) {\n        // 自动填写上验证码\n        this.code = data;\n        // 若成功，提示一下\n        this.$message.success('验证码下发成功！');\n      } else {\n        // 若下发失败，给个原因\n        this.$message.error(`验证码下发失败:${message}`);\n      }\n    },\n    // 用于登录\n    async register() {\n      const result = await this.$refs.register.validate();\n      if (result) {\n        // 获取注册必要的参数：手机号、密码、验证码\n        const {\n          phone,\n          password,\n          code\n        } = this;\n        // 请求注册（注意参数的顺序）\n        const {\n          code: c1,\n          message\n        } = await reqRegister(phone, password, code);\n        // 判断业务逻辑\n        if (c1 === 200) {\n          // 注册成功给个提示\n          this.$message.success('注册成功！'),\n          // 跳转到登录\n          this.$router.push('/login');\n        } else {\n          // 注册失败提示原因\n          this.$message.error(`注册失败：${message}`);\n        }\n      } else {\n        this.$message.warning('请检查您的输入项');\n      }\n    }\n  }\n};","map":{"version":3,"names":["reqGetCode","reqRegister","name","data","phone","password","code","rePassword","agree","methods","getCode","message","$message","success","error","register","result","$refs","validate","c1","$router","push","warning"],"sources":["src/pages/Register/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"register-container\">\r\n    <!-- 注册内容 -->\r\n    <div class=\"register\">\r\n      <h3>注册新用户</h3>\r\n      <ValidationObserver ref=\"register\">\r\n        <div class=\"content\">\r\n          <label>手机号:</label>\r\n          <ValidationProvider name=\"手机\" rules=\"shouji|bixu\" v-slot=\"{errors}\">\r\n            <input v-model=\"phone\" type=\"text\" placeholder=\"请输入你的手机号\">\r\n            <span class=\"error-msg\">{{errors[0]}}</span>\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"content\">\r\n          <label>验证码:</label>\r\n          <ValidationProvider name=\"验证码\" rules=\"ma|bixu\" v-slot=\"{errors}\">\r\n            <input v-model=\"code\" type=\"text\" placeholder=\"请输入验证码\">\r\n            <button class=\"getcode\" @click=\"getCode\">获取验证码</button>\r\n            <span class=\"error-msg\">{{errors[0]}}</span>\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"content\">\r\n          <label>登录密码:</label>\r\n          <ValidationProvider name=\"密码\" rules=\"mima|bixu\" v-slot=\"{errors}\">\r\n            <input v-model=\"password\" type=\"text\" placeholder=\"请输入你的登录密码\">\r\n            <span class=\"error-msg\">{{errors[0]}}</span>\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"content\">\r\n          <label>确认密码:</label>\r\n          <ValidationProvider name=\"确认密码\" :rules=\"`bixu|remima:${password}`\" v-slot=\"{errors}\">\r\n            <input v-model=\"rePassword\" type=\"text\" placeholder=\"请输入确认密码\">\r\n            <span class=\"error-msg\">{{errors[0]}}</span>\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"controls\">\r\n          <ValidationProvider name=\"协议\" rules=\"agree|bixu\" v-slot=\"{errors}\">\r\n            <input name=\"m1\" type=\"checkbox\" v-model=\"agree\">\r\n            <span>同意协议并注册《尚品汇用户协议》</span>\r\n            <span class=\"error-msg\">{{errors[0]}}</span>\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"btn\">\r\n          <button @click=\"register\">完成注册</button>\r\n        </div>\r\n      </ValidationObserver>\r\n    </div>\r\n\r\n    <!-- 底部 -->\r\n    <div class=\"copyright\">\r\n      <ul>\r\n        <li>关于我们</li>\r\n        <li>联系我们</li>\r\n        <li>联系客服</li>\r\n        <li>商家入驻</li>\r\n        <li>营销中心</li>\r\n        <li>手机尚品汇</li>\r\n        <li>销售联盟</li>\r\n        <li>尚品汇社区</li>\r\n      </ul>\r\n      <div class=\"address\">地址：北京市昌平区宏福科技园综合楼6层</div>\r\n      <div class=\"beian\">京ICP备19006430号\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {reqGetCode,reqRegister} from '@/api'\r\n\r\n  export default {\r\n    name: 'Register',\r\n    data() {\r\n      return {\r\n        phone:'',\r\n        password:'',\r\n        code:'',\r\n        rePassword:'',\r\n        agree:false\r\n      }\r\n    },\r\n    methods: {\r\n      // 获取验证码\r\n      async getCode(){\r\n        // 请求服务器获取验证码\r\n        const {code,message,data} = await reqGetCode(this.phone)\r\n        // 判断业务逻辑是否成功\r\n        if(code === 200){\r\n          // 自动填写上验证码\r\n          this.code = data\r\n          // 若成功，提示一下\r\n          this.$message.success('验证码下发成功！')\r\n        }else{\r\n          // 若下发失败，给个原因\r\n          this.$message.error(`验证码下发失败:${message}`)\r\n        }\r\n      },\r\n      // 用于登录\r\n      async register(){\r\n        const result = await this.$refs.register.validate()\r\n        if(result){\r\n          // 获取注册必要的参数：手机号、密码、验证码\r\n          const {phone,password,code} = this\r\n          // 请求注册（注意参数的顺序）\r\n          const {code:c1,message} = await reqRegister(phone,password,code)\r\n          // 判断业务逻辑\r\n          if(c1 === 200){\r\n            // 注册成功给个提示\r\n            this.$message.success('注册成功！'),\r\n            // 跳转到登录\r\n            this.$router.push('/login')\r\n          }else{\r\n            // 注册失败提示原因\r\n            this.$message.error(`注册失败：${message}`)\r\n          }\r\n        }else{\r\n          this.$message.warning('请检查您的输入项')\r\n        }\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .register-container {\r\n    .register {\r\n      width: 1200px;\r\n      height: 445px;\r\n      border: 1px solid rgb(223, 223, 223);\r\n      margin: 0 auto;\r\n\r\n      h3 {\r\n        background: #ececec;\r\n        margin: 0;\r\n        padding: 6px 15px;\r\n        color: #333;\r\n        border-bottom: 1px solid #dfdfdf;\r\n        font-size: 16px;\r\n        line-height: 30.06px;\r\n\r\n        span {\r\n          font-size: 14px;\r\n          float: right;\r\n\r\n          a {\r\n            color: #e1251b;\r\n          }\r\n        }\r\n      }\r\n\r\n      div:nth-of-type(1) {\r\n        margin-top: 40px;\r\n      }\r\n\r\n      .content {\r\n        padding-left: 390px;\r\n        margin-bottom: 18px;\r\n        position: relative;\r\n\r\n        label {\r\n          font-size: 14px;\r\n          width: 96px;\r\n          text-align: right;\r\n          display: inline-block;\r\n        }\r\n\r\n        input {\r\n          width: 270px;\r\n          height: 38px;\r\n          padding-left: 8px;\r\n          box-sizing: border-box;\r\n          margin-left: 5px;\r\n          outline: none;\r\n          border: 1px solid #999;\r\n        }\r\n\r\n        img {\r\n          vertical-align: sub;\r\n        }\r\n\r\n        .error-msg {\r\n          position: absolute;\r\n          top: 100%;\r\n          left: 495px;\r\n          color: red;\r\n        }\r\n      }\r\n\r\n      .controls {\r\n        text-align: center;\r\n        position: relative;\r\n\r\n        input {\r\n          vertical-align: middle;\r\n        }\r\n\r\n        .error-msg {\r\n          position: absolute;\r\n          top: 100%;\r\n          left: 495px;\r\n          color: red;\r\n        }\r\n      }\r\n\r\n      .btn {\r\n        text-align: center;\r\n        line-height: 36px;\r\n        margin: 17px 0 0 55px;\r\n\r\n        button {\r\n          outline: none;\r\n          width: 270px;\r\n          height: 36px;\r\n          background: #e1251b;\r\n          color: #fff !important;\r\n          display: inline-block;\r\n          font-size: 16px;\r\n          border: 0;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n\r\n\t\t\t.getcode{\r\n\t\t\t\theight: 38px;\r\n\t\t\t\tmargin-left: 10px;\r\n\t\t\t\tpadding: 5px;\r\n\t\t\t}\r\n    }\r\n\r\n    .copyright {\r\n      width: 1200px;\r\n      margin: 0 auto;\r\n      text-align: center;\r\n      line-height: 24px;\r\n\r\n      ul {\r\n        li {\r\n          display: inline-block;\r\n          border-right: 1px solid #e4e4e4;\r\n          padding: 0 20px;\r\n          margin: 15px 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"],"mappings":";AAoEA,SAAAA,UAAA,EAAAC,WAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,QAAA;MACAC,IAAA;MACAC,UAAA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACA;IACA,MAAAC,QAAA;MACA;MACA;QAAAJ,IAAA;QAAAK,OAAA;QAAAR;MAAA,UAAAH,UAAA,MAAAI,KAAA;MACA;MACA,IAAAE,IAAA;QACA;QACA,KAAAA,IAAA,GAAAH,IAAA;QACA;QACA,KAAAS,QAAA,CAAAC,OAAA;MACA;QACA;QACA,KAAAD,QAAA,CAAAE,KAAA,YAAAH,OAAA;MACA;IACA;IACA;IACA,MAAAI,SAAA;MACA,MAAAC,MAAA,cAAAC,KAAA,CAAAF,QAAA,CAAAG,QAAA;MACA,IAAAF,MAAA;QACA;QACA;UAAAZ,KAAA;UAAAC,QAAA;UAAAC;QAAA;QACA;QACA;UAAAA,IAAA,EAAAa,EAAA;UAAAR;QAAA,UAAAV,WAAA,CAAAG,KAAA,EAAAC,QAAA,EAAAC,IAAA;QACA;QACA,IAAAa,EAAA;UACA;UACA,KAAAP,QAAA,CAAAC,OAAA;UACA;UACA,KAAAO,OAAA,CAAAC,IAAA;QACA;UACA;UACA,KAAAT,QAAA,CAAAE,KAAA,SAAAH,OAAA;QACA;MACA;QACA,KAAAC,QAAA,CAAAU,OAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}